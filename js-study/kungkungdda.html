<!-- ìŠ¤ìŠ¤ë¡œ í•´ë³´ê¸°
ì¡°ê±´1. promptì°½ ì·¨ì†Œ ëˆ„ë¥´ë©´ ì½”ë“œ ì‹¤í–‰x
ì¡°ê±´2. 3ê¸€ìë§Œ ì…ë ¥ ê°€ëŠ¥
 -->
<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ì¿µì¿µë”° ê²Œì„</title>
  </head>
  <body>
    <h3>ê¿ì“°ê¿ì“°ê¿ì“°~ ì¿µì¿µë”°ë¦¬ ì¿µì¿µë”°ğŸµ</h3>
    <div><span id="order">1</span>ë²ˆì§¸ ì°¸ê°€ì</div>
    <div>ì œì‹œì–´:<span id="word"></span></div>
    <input type="text" />
    <button>ì…ë ¥</button>
  </body>
  <script>
    const number = Number(prompt("ëª‡ ëª…ì´ ì°¸ê°€í•˜ë‚˜ìš”?")); //numberë³€ìˆ˜ì— ëª‡ ëª… ì°¸ê°€í•˜ë‚˜ ì €ì¥

    if (number) {
      const $button = document.querySelector("button");
      const $input = document.querySelector("input");
      const $word = document.querySelector("#word");
      const $order = document.querySelector("#order"); //í˜„ì¬ ìˆœì„œ. #orderíƒœê·¸ ë‚´ë¶€ì˜ ê°’ì„ êº¼ë‚´ ìˆ«ìë¡œ ë³€í™˜í•˜ê³  ì´ë¥¼ orderë³€ìˆ˜ì— ì €ì¥
      let word;
      let newWord; //í˜„ì¬ ë‹¨ì–´
      const onClickButton = () => {
        if (
          (!word || word[word.length - 1] === newWord[0]) &&
          newWord.length === 3
        ) {
          // ì„¸ ê¸€ìì´ë©´ì„œ ì œì‹œì–´ê°€ ë¹„ì–´ ìˆê±°ë‚˜ ì…ë ¥í•œ ë‹¨ì–´ê°€ ì˜¬ë°”ë¥¸ê°€?
          word = newWord; //ì…ë ¥í•œ ë‹¨ì–´ê°€ ì œì‹œì–´ê°€ ëœë‹¤
          $word.textContent = word; //í™”ë©´ì— ì œì‹œì–´ í‘œì‹œ

          const order = Number($order.textContent);
          if (order + 1 > number) {
            $order.textContent = 1;
          } else {
            $order.textContent = order + 1;
          }
        } else {
          //ì˜¬ë°”ë¥´ì§€ ì•Šë‹¤
          alert("ì˜¬ë°”ë¥´ì§€ ì•Šì€ ë‹¨ì–´ì…ë‹ˆë‹¤");
        }
        //ê²¹ì³ì„œ ë§ˆì§€ë§‰ìœ¼ë¡œ ë¹¼ì¤¬ë‹¤
        $input.value = "";
        $input.focus();
      };

      const onInput = (event) => {
        newWord = event.target.value; //ì…ë ¥í•œ ë‹¨ì–´ë¥¼ í˜„ì¬ ë‹¨ì–´ë¡œ. event.target: ì´ë²¤íŠ¸ê°€ ë°œìƒí•œ ëŒ€ìƒ íƒœê·¸
      };

      $button.addEventListener("click", onClickButton);
      $input.addEventListener("input", onInput);
    }
  </script>
</html>
